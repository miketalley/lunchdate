<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
  <script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>

<h1>Lunch Dates List</h1>

<p>
<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>
</p>

<% @lunch_dates.each do |ld| %>
  <p>
  IMG: <%= ld.creator.image_url %>
  Creator: <%= ld.creator.username %><br />
  Location: <%= ld.location_name %><br />
  Latitude: <%= ld.latitude %><br />
  Longitude: <%= ld.longitude %><br />
  Date/Time: <%= ld.date_time %><br />
  <% if ld.creator_id == current_user.id %>
    <%= link_to 'Edit/Delete Date', edit_lunch_date_path(ld) %>
    <% end %>
  </p>
<% end %>

<!-- DONT TOUCH MAP IS WORKING -->
<script type="text/javascript" charset="utf-8">
handler = Gmaps.build('Google');
handler.buildMap({
  provider: {
    disableDefaultUI: true
  },
  internal: {
    id: 'map'
  }},
  function(){
  markers = handler.addMarkers(<%= raw @hash.to_json %>);
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
});
</script>
<!-- DONT TOUCH MAP IS WORKING -->
